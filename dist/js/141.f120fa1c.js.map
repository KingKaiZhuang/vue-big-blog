{"version":3,"file":"js/141.f120fa1c.js","mappings":"kzBAIA,MAAMA,GAAmBC,EAAAA,EAAAA,KAAI,GACvBC,GAAeD,EAAAA,EAAAA,IAAI,IACnBE,GAAcF,EAAAA,EAAAA,IAAI,GAClBG,EAAc,IAAIC,MAExBC,EAAAA,EAAAA,KAAc,KACVC,iBACKC,MAAMC,IACH,OAAQA,EAASC,QACb,KAAK,IACD,MAAMC,EAAeF,EAASG,KAAKC,MACnC,GAA2B,IAAvBJ,EAASG,KAAKC,MACdX,EAAaY,MAAQ,GACrBd,EAAiBc,OAAQ,MACtB,CACH,MAAMC,EAAeJ,EAAaK,QAAQC,IACtC,MAAMC,EAAY,IAAIb,KAClBc,EAAWF,EAAIG,WAEbC,EAAU,IAAIhB,KAAKc,EAAWF,EAAIK,WACxC,OACIlB,EAAcc,GAAad,EAAciB,CAAO,IAGxDnB,EAAaY,MAAQC,EACrBf,EAAiBc,OAAQ,CAC7B,CACA,MACR,IAEHS,OAAOC,IAEJ,OADAC,QAAQC,IAAIF,GACJA,EAAMf,SAASC,QACnB,KAAK,IACDiB,MACI,sBACIH,EAAMf,SAASG,KAAKC,OAE5B,MACR,GACF,IAGV,MAAMM,EAAcS,GACTA,EAAKC,MAAM,EAAG,GAAK,IAAMD,EAAKC,MAAM,EAAG,GAAK,IAAMD,EAAKC,MAAM,EAAG,G,+4CC7C3E,MAAMC,EAAc,EAEpB,O","sources":["webpack://vue-big-blog/./src/views/AnnouncePage.vue","webpack://vue-big-blog/./src/views/AnnouncePage.vue?b8f1"],"sourcesContent":["<script setup>\nimport { onBeforeMount, ref } from 'vue';\n// import { apiGetAnnounce } from '@/api/index.js';\n\nconst isAnnounceLoaded = ref(false);\nconst announceData = ref([]);\nconst currentPage = ref(1);\nconst currentDate = new Date();\n\nonBeforeMount(() => {\n    apiGetAnnounce()\n        .then((response) => {\n            switch (response.status) {\n                case 200:\n                    const announceRows = response.data.datas;\n                    if (response.data.datas == '') {\n                        announceData.value = [];\n                        isAnnounceLoaded.value = true;\n                    } else {\n                        const selectedRows = announceRows.filter((row) => {\n                            const startDate = new Date(\n                                formatDate(row.BAS08004)\n                            );\n                            const endDate = new Date(formatDate(row.BAS08005));\n                            return (\n                                currentDate > startDate && currentDate < endDate\n                            );\n                        });\n                        announceData.value = selectedRows;\n                        isAnnounceLoaded.value = true;\n                    }\n                    break;\n            }\n        })\n        .catch((error) => {\n            console.log(error);\n            switch (error.response.status) {\n                case 500:\n                    alert(\n                        '系統異常請聯絡系統管理員，錯誤資訊: ' +\n                            error.response.data.datas\n                    );\n                    break;\n            }\n        });\n});\n\nconst formatDate = (date) => {\n    return date.slice(0, 4) + '/' + date.slice(4, 6) + '/' + date.slice(6, 8);\n};\n</script>\n\n<template>\n    <v-container class=\"h-100\" fluid>\n        <v-row\n            justify=\"center\"\n            class=\"my-1 text-lg-h1 text-md-h2 text-h3 font-weight-black\"\n        >\n            最新消息\n        </v-row>\n        <v-row justify=\"center\">\n            <v-card width=\"90vw\" elevation=\"3\" class=\"mx-2\">\n                <v-table class=\"bg-grey-lighten-5\" height=\"100%\">\n                    <thead>\n                        <tr>\n                            <th\n                                class=\"pa-3 text-center text-lg-h2 text-md-h3 text-h4 font-weight-black bg-blue-darken-4\"\n                                style=\"width: 20%\"\n                            >\n                                標題\n                            </th>\n                            <th\n                                class=\"pa-3 text-center text-lg-h2 text-md-h3 text-h4 font-weight-black bg-blue-darken-4\"\n                            >\n                                內容\n                            </th>\n                            <th\n                                class=\"pa-3 text-center text-lg-h2 text-md-h3 text-h4 font-weight-black bg-blue-darken-4\"\n                                style=\"width: 20%\"\n                            >\n                                日期\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr\n                            v-if=\"!isAnnounceLoaded\"\n                            class=\"text-h4 pa-3 text-center\"\n                        >\n                            資料載入中...\n                        </tr>\n                        <tr\n                            v-for=\"(row, index) in announceData\"\n                            v-else\n                            :key=\"index\"\n                            class=\"text-subtitle-1\"\n                        >\n                            <td class=\"text-center text-h4 pa-3\">\n                                {{ row['BAS08002'] }}\n                            </td>\n                            <td class=\"text-h4 pa-3\">\n                                {{ row['BAS08003'] }}\n                            </td>\n                            <td class=\"text-center text-h4 pa-3\">\n                                {{ formatDate(row['BAS08004']) }}\n                            </td>\n                        </tr>\n                    </tbody>\n                </v-table>\n                <v-container\n                    v-if=\"announceData.length == 0\"\n                    class=\"text-h4 pa-3 text-center flex-grow-1\"\n                    style=\"width: 100%\"\n                >\n                    今日無有效公告資訊\n                </v-container>\n            </v-card>\n        </v-row>\n        <v-row justify=\"center\">\n            <v-pagination\n                v-show=\"announceData.length > 0\"\n                v-model=\"currentPage\"\n                :length=\"Math.ceil(announceData.length / 3)\"\n                :per-page=\"2\"\n                :total-visible=\"3\"\n                rounded=\"circle\"\n            >\n            </v-pagination>\n        </v-row>\n    </v-container>\n</template>\n","import script from \"./AnnouncePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AnnouncePage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["isAnnounceLoaded","ref","announceData","currentPage","currentDate","Date","onBeforeMount","apiGetAnnounce","then","response","status","announceRows","data","datas","value","selectedRows","filter","row","startDate","formatDate","BAS08004","endDate","BAS08005","catch","error","console","log","alert","date","slice","__exports__"],"sourceRoot":""}